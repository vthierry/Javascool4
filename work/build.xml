<!-- Construction des éléments de javascool (core), javascoolbuilder, et des proglets -->
<project>
  <!-- On utilise http://ant-contrib.sourceforge.net/tasks/tasks/index.html pour un meilleur interface -->
  <taskdef resource="net/sf/antcontrib/antlib.xml"/>

  <property name="classpath" value="lib/RSyntaxTextArea.jar:lib/jvs2html.jar"/>

  <target name="classes">
    <mkdir dir="../build/classes"/>
    <javac deprecation="true" classpath="${classpath}" srcdir="src" destdir="../build/classes"/>
  </target>
  
  <target name="javascool.jar" depends="classes" >
    <mkdir dir="../build/jar"/>
    <jar destfile="../build/javascool.jar" basedir="../build/classes">
      <manifest>
        <attribute name="Main-Class" value="org.javascool.Core"/>
      </manifest>
    </jar>
    <exec executable="sh">
      <arg value="-c"/>
      <arg value="ls -l ../build/javascool.jar"/>
    </exec>
  </target>

  <target name="javadoc">
    <mkdir dir="../build/web/api"/>
    <javadoc
      classpath="${classpath}"
      access="public" 
      destdir="../build/web/api"
      windowtitle="Java's Cool v4"
      doctitle="Java's Cool v4"
      author="true"
      version="true"
      use="true"  
      nodeprecated="true"
      nohelp="true"
      nonavbar="true"
      notree="true"
      charset="UTF-8"
       >
      <link href="http://download.oracle.com/javase/6/docs/api"/>
      <link href="http://javadoc.fifesoft.com/rsyntaxtextarea"/>
      <fileset dir="src" defaultexcludes="yes">
        <include name="**/*.java"/>
      </fileset>
    </javadoc>
  </target>

  <target name="run" depends="javascool.jar">
    <java jar="../build/javascool.jar" fork="true"/>
  </target>
  
  <target name="clean">
    <delete dir="../build/classes"/>
    <delete dir="../build/web/api"/>
  </target>
    
</project>
